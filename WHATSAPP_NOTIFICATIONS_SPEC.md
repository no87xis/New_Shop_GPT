# üì≤ –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø WHATSAPP –£–í–ï–î–û–ú–õ–ï–ù–ò–ô
## –ú–æ–¥—É–ª—å —Ä–∞—Å—Å—ã–ª–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞–º –≤ WhatsApp –ø—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥

---

## üéØ –ö–û–ù–¢–ï–ö–°–¢ –ò –¶–ï–õ–¨

**–ó–∞–¥–∞—á–∞:** –ö–æ–≥–¥–∞ –∑–∞–∫–∞–∑ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ ¬´–ü—Ä–∏–±—ã–ª –Ω–∞ —Å–∫–ª–∞–¥ / –ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ¬ª, —Å–∏—Å—Ç–µ–º–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–æ—Å–ª–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º –≤ WhatsApp.

**–û–±—ä—ë–º:** –†–∞–∑–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ 10‚Äì50 –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –∑–∞ –∑–∞–ø—É—Å–∫.

**–ö–∞–Ω–∞–ª:** –¢–æ–ª—å–∫–æ WhatsApp (SMS/Viber/Telegram ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º).

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥—ë—à–µ–≤–æ (–±–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ WhatsApp Business API). –ò—Å–ø–æ–ª—å–∑—É–µ–º headless-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ WhatsApp Web.

**–†–∏—Å–∫:** –ù–µ–±–æ–ª—å—à–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã WhatsApp –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö ‚Äî —Å–Ω–∏–∂–∞–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π, –ø–∞—É–∑–∞–º–∏ –∏ –ª–∏–º–∏—Ç–∞–º–∏.

---

## üîë –ö–õ–Æ–ß–ï–í–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### **1. –ó–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–∫–∏ –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —Å–∫–ª–∞–¥–∞:**

- –ö–Ω–æ–ø–∫–∞ ¬´–†–∞–∑–æ—Å–ª–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è¬ª –Ω–∞ —Å–ø–∏—Å–∫–µ –∑–∞–∫–∞–∑–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º ¬´–ü—Ä–∏–±—ã–ª/–ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ¬ª
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å –≤—Å–µ—Ö –∏–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (–º—É–ª—å—Ç–∏–≤—ã–±–æ—Ä)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–µ–≤—å—é —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏ (–∏–º—è, –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞)
- –†–µ–∂–∏–º Dry-run (–ø–æ–∫–∞–∑–∞—Ç—å, –∫–æ–º—É –∏ —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–º, –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏)

### **2. –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π:**

- –®–∞–±–ª–æ–Ω —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏: `{name}`, `{orderId}`, `{pickup_address}`, `{pickup_hours}`
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —à–∞–±–ª–æ–Ω)

### **3. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∞—Ä—Ç–∏—è–º–∏ —Å –∞–Ω—Ç–∏—Å–ø–∞–º-–ø–æ–ª–∏—Ç–∏–∫–æ–π:**

- –õ–∏–º–∏—Ç –Ω–µ –±–æ–ª–µ–µ 45 —Å–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω—É—Ç—É
- –°–ª—É—á–∞–π–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∫–∞–º–∏ 900‚Äì1700 –º—Å
- –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Å—ã–ª–æ–∫ (link preview)

### **4. –õ–æ–≥–∏ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞:**

- –ó–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –ø–æ–ª—É—á–∞—Ç–µ–ª—é: `sent` / `fail` / `skipped` / `invalid_phone` + —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏/WA-ID
- –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –Ω–µ—É–¥–∞—á–Ω—ã–µ¬ª –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ fail
- –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ CSV

### **5. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤:**

- –í—Ö–æ–¥–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: `29xxxxxxx`, `8029xxxxxxx`, `+37529xxxxxxx`
- –ü—Ä–∏–≤–æ–¥–∏—Ç—å –∫ E.164 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è BY: `+375‚Ä¶`)
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å

### **6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**

- –°–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (—Ç–æ–ª—å–∫–æ —Å –±—ç–∫–µ–Ω–¥–∞ —Å–∫–ª–∞–¥–∞)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Bearer-—Ç–æ–∫–µ–Ω –∏–ª–∏ IP-allowlist
- –ê–¥–º–∏–Ω-UI: —Å—Ç–∞—Ç—É—Å—ã –æ—Ç–ø—Ä–∞–≤–∫–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å, —Å—á–µ—Ç—á–∏–∫–∏ (—É—Å–ø–µ—à–Ω–æ/–æ—à–∏–±–∫–∞/–ø—Ä–æ–ø—É—â–µ–Ω–æ), –ø–æ–∏—Å–∫/—Ñ–∏–ª—å—Ç—Ä, –∏–Ω–¥–∏–∫–∞—Ü–∏—è ¬´–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ¬ª

### **7. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:**

- –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä—ë–º–∞ —Ö–≤–∞—Ç–∞–µ—Ç WhatsApp Web
- –ù–∞ –±—É–¥—É—â–µ–µ ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API, –Ω–µ –º–µ–Ω—è—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (—á–µ—Ä–µ–∑ —Ñ–ª–∞–≥/—Å—Ç—Ä–∞—Ç–µ–≥–∏—é)

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### **2.1 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### **Backend —Å–∫–ª–∞–¥–∞ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π):**
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–∫–∞–∑–∞–º–∏, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é, –ø—Ä–∞–≤–∞–º–∏, –ª–æ–≥–∏–∫–æ–π —Å—Ç–∞—Ç—É—Å–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å WA-Relay —á–µ—Ä–µ–∑ HTTP API

#### **WA-Relay (–Ω–æ–≤—ã–π microservice):**
- –ù–µ–±–æ–ª—å—à–æ–µ Node.js-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ê–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –≤ WhatsApp —á–µ—Ä–µ–∑ QR (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –Ω–∞ –¥–∏—Å–∫–µ)
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç HTTP-—ç–Ω–¥–ø–æ–∏–Ω—Ç `/wa/notify` –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- –†–µ–∞–ª–∏–∑—É–µ—Ç –∞–Ω—Ç–∏—Å–ø–∞–º-–ø–æ–ª–∏—Ç–∏–∫—É, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `whatsapp-web.js`
- –ó–∞–ø—É—Å–∫ –≤ Docker, Chromium —á–µ—Ä–µ–∑ Puppeteer, headless

### **2.2 –ü–æ—Ç–æ–∫**

1. –ú–µ–Ω–µ–¥–∂–µ—Ä –≤ –∞–¥–º–∏–Ω–∫–µ –æ—Ç–º–µ—á–∞–µ—Ç –∑–∞–∫–∞–∑—ã –∫–∞–∫ ¬´–ü—Ä–∏–±—ã–ª/–ì–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ¬ª
2. –ù–∞–∂–∏–º–∞–µ—Ç ¬´–†–∞–∑–æ—Å–ª–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è¬ª ‚Üí –±—ç–∫–µ–Ω–¥ –≥–æ—Ç–æ–≤–∏—Ç –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É ‚Üí –±—ç–∫–µ–Ω–¥ –≤—ã–∑—ã–≤–∞–µ—Ç WA-Relay `/wa/notify`
4. WA-Relay –ø–æ –æ–¥–Ω–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
5. –ë—ç–∫–µ–Ω–¥ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Å–≤–æ—é –ë–î, –æ–±–Ω–æ–≤–ª—è–µ—Ç UI

---

## üóÑÔ∏è –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ë–î

### **3.1 –¢–∞–±–ª–∏—Ü–∞ message_logs**

```sql
CREATE TABLE message_logs (
  id                 BIGSERIAL PRIMARY KEY,
  batch_id           UUID NOT NULL,              -- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–¥–Ω–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏
  order_id           INTEGER NULL,               -- —Å–≤—è–∑–∞–Ω–Ω—ã–π –∑–∞–∫–∞–∑ (–µ—Å–ª–∏ –µ—Å—Ç—å)
  customer_id        INTEGER NULL,               -- —Å–≤—è–∑–∞–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å)
  phone_raw          TEXT NOT NULL,              -- –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω
  phone_e164         TEXT NULL,                  -- –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
  template_key       TEXT NOT NULL,              -- –Ω–∞–ø—Ä–∏–º–µ—Ä, 'arrived_v1'
  message_text       TEXT NOT NULL,              -- —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
  status             TEXT NOT NULL,              -- 'sent' | 'fail' | 'skipped' | 'invalid_phone'
  wa_message_id      TEXT NULL,                  -- –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
  error_text         TEXT NULL,                  -- –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
  created_at         TIMESTAMP NOT NULL DEFAULT now(),
  sent_at            TIMESTAMP NULL,
  retried_of_id      BIGINT NULL                 -- —Å—Å—ã–ª–∫–∞ –Ω–∞ –ª–æ–≥ –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏, –µ—Å–ª–∏ —ç—Ç–æ –ø–æ–≤—Ç–æ—Ä
);

CREATE INDEX ON message_logs (batch_id);
CREATE INDEX ON message_logs (status);
```

### **3.2 –ü–æ–ª—è –≤ orders**

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ orders
ALTER TABLE orders ADD COLUMN arrival_status VARCHAR(20) DEFAULT 'pending';
ALTER TABLE orders ADD COLUMN arrival_notified_at TIMESTAMP NULL;
ALTER TABLE orders ADD COLUMN arrival_notifications_count INTEGER DEFAULT 0;
ALTER TABLE orders ADD COLUMN whatsapp_phone VARCHAR(20);
ALTER TABLE orders ADD COLUMN consent_whatsapp BOOLEAN DEFAULT TRUE;
```

### **3.3 –ü–æ–ª—è –≤ shop_orders**

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ shop_orders
ALTER TABLE shop_orders ADD COLUMN arrival_status VARCHAR(20) DEFAULT 'pending';
ALTER TABLE shop_orders ADD COLUMN arrival_notified_at TIMESTAMP NULL;
ALTER TABLE shop_orders ADD COLUMN arrival_notifications_count INTEGER DEFAULT 0;
ALTER TABLE shop_orders ADD COLUMN whatsapp_phone VARCHAR(20);
ALTER TABLE shop_orders ADD COLUMN consent_whatsapp BOOLEAN DEFAULT TRUE;
```

---

## üìù –®–ê–ë–õ–û–ù–´ –°–û–û–ë–©–ï–ù–ò–ô

### **4.1 –®–∞–±–ª–æ–Ω arrived_v1 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**

```
{name}, –≤–∞—à –∑–∞–∫–∞–∑{orderId? ' ‚Ññ'+orderId : ''} –ø—Ä–∏–µ—Ö–∞–ª –∏ –≥–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ.
üìç –ü—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏: {pickup_address}
üïí –í—Ä–µ–º—è: {pickup_hours}
–ï—Å–ª–∏ –Ω–µ—É–¥–æ–±–Ω–æ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ, —Å–æ–≥–ª–∞—Å—É–µ–º –≤—Ä–µ–º—è.
```

### **4.2 –ü—Ä–∞–≤–∏–ª–∞:**

- –ï—Å–ª–∏ `{name}` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –∑–∞–ø—è—Ç—É—é
- `{orderId}` –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω
- `{pickup_address}` –∏ `{pickup_hours}` –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∫–ª–∞–¥–∞

---

## üîå API-–ö–û–ù–¢–†–ê–ö–¢ –ú–ï–ñ–î–£ –ë–≠–ö–ï–ù–î–û–ú –ò WA-RELAY

### **5.1 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**

- Bearer Token –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization`
- –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ IP (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏)

### **5.2 POST /wa/notify**

**Body (JSON):**

```json
{
  "template_key": "arrived_v1",
  "message_override": null,
  "default_country": "BY",
  "rate": { 
    "per_minute": 45, 
    "min_delay_ms": 900, 
    "max_delay_ms": 1700 
  },
  "dry_run": false,
  "recipients": [
    { 
      "phone": "8029XXXXXXX", 
      "name": "–ò–≤–∞–Ω", 
      "orderId": "A-102", 
      "order_uuid": "..." 
    },
    { 
      "phone": "+37529YYYYYYY", 
      "name": "–ù–∞—Ç–∞–ª—å—è", 
      "orderId": null, 
      "order_uuid": "..." 
    }
  ],
  "template_vars": {
    "pickup_address": "–ù–∞—à —Å–∫–ª–∞–¥, —É–ª. ...",
    "pickup_hours": "–°–µ–≥–æ–¥–Ω—è 10:00‚Äì19:00"
  },
  "batch_id": "uuid-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-–±—ç–∫–µ–Ω–¥–æ–º"
}
```

**–û—Ç–≤–µ—Ç (JSON):**

```json
{
  "ok": true,
  "dry_run": false,
  "results": [
    {
      "input_phone": "8029XXXXXXX",
      "normalized_phone": "+37529XXXXXXX",
      "status": "sent",
      "wa_message_id": "xxxxxxxxxx",
      "error": null,
      "order_uuid": "..."
    },
    {
      "input_phone": "+37529YYYYYYY",
      "normalized_phone": "+37529YYYYYYY",
      "status": "invalid_phone",
      "wa_message_id": null,
      "error": "invalid format",
      "order_uuid": "..."
    }
  ]
}
```

### **5.3 GET /wa/health**

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "clientReady": true
}
```

---

## üé® –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨: UX

### **6.1 –°–ø–∏—Å–æ–∫ ¬´–ì–æ—Ç–æ–≤–æ –∫ –≤—ã–¥–∞—á–µ¬ª**

**–¢–∞–±–ª–∏—Ü–∞:**
- –§–ò–û
- –¢–µ–ª–µ—Ñ–æ–Ω
- ‚Ññ –∑–∞–∫–∞–∑–∞
- –î–∞—Ç–∞ –ø—Ä–∏–±—ã—Ç–∏—è
- –§–ª–∞–≥ ¬´—É–∂–µ —É–≤–µ–¥–æ–º–ª—ë–Ω?¬ª
- –ß–µ–∫–±–æ–∫—Å –≤—ã–±–æ—Ä–∞

**–ö–Ω–æ–ø–∫–∏:**
- ¬´–†–∞–∑–æ—Å–ª–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–º¬ª
- ¬´–í—ã–±—Ä–∞—Ç—å –≤—Å–µ—Ö¬ª
- –§–∏–ª—å—Ç—Ä: ¬´–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ—É–≤–µ–¥–æ–º–ª—ë–Ω–Ω—ã—Ö¬ª
- Dry-run –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å

### **6.2 –ú–æ–¥–∞–ª–∫–∞ ¬´–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ä–∞—Å—Å—ã–ª–∫—É¬ª**

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
- –í—ã–ø–∞–¥–∞—é—â–∏–π —à–∞–±–ª–æ–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é arrived_v1)
- –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π (readonly + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π message_override)
- –°–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (–∏–º—è, –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω, orderId)
- –ö–Ω–æ–ø–∫–∏: –û—Ç–ø—Ä–∞–≤–∏—Ç—å, –û—Ç–º–µ–Ω–∞

### **6.3 –≠–∫—Ä–∞–Ω ¬´–†–µ–∑—É–ª—å—Ç–∞—Ç—ã¬ª**

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
- –°—á—ë—Ç—á–∏–∫–∏: –≤—Å–µ–≥–æ / –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ / –æ—à–∏–±–∫–∏ / –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ
- –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–æ–ª—å–∫–æ –ø–æ –æ—à–∏–±–∫–∞–º
- –ö–Ω–æ–ø–∫–∞ –≠–∫—Å–ø–æ—Ä—Ç CSV
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ batch_id

---

## üõ†Ô∏è WA-RELAY: –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### **7.1 –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:**

- Node.js 18+
- whatsapp-web.js
- express
- zod
- pino
- qrcode-terminal
- Docker

### **7.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**

```
wa_relay/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ server.js              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ whatsapp-client.js     # –ö–ª–∏–µ–Ω—Ç WhatsApp
‚îú‚îÄ‚îÄ phone-utils.js         # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
‚îú‚îÄ‚îÄ message-templates.js   # –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ README.md
```

### **7.3 –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

#### **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
- LocalAuth –≤ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ç–æ–º–µ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- QR-–∫–æ–¥ –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞

#### **–õ–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (zod)
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –≤ E.164 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é BY: +375)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Ö–æ–¥–æ–≤ 8029‚Ä¶, 29‚Ä¶‚Ä¶, +37529‚Ä¶‚Ä¶
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (–ª–∏–±–æ message_override, –ª–∏–±–æ —Ä–µ–Ω–¥–µ—Ä —à–∞–±–ª–æ–Ω–∞)
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å –¥–∂–∏—Ç—Ç–µ—Ä–æ–º –∏ –ª–∏–º–∏—Ç–∞–º–∏
- linkPreview: false, –±–µ–∑ –º–µ–¥–∏–∞ –∏ —Å—Å—ã–ª–æ–∫
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env:**
```
PORT=3000
DEFAULT_COUNTRY=BY
SEND_DELAY_MIN_MS=900
SEND_DELAY_MAX_MS=1700
RATE_LIMIT_PER_MIN=45
AUTH_BEARER=your-secret-token
```

---

## üîÑ –û–®–ò–ë–ö–ò –ò –ü–û–í–¢–û–†–ù–´–ï –ü–û–ü–´–¢–ö–ò

### **8.1 –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫:**

- `invalid_phone` ‚Äî –Ω–µ –ø—Ä–æ—à–ª–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è/–≤–∞–ª–∏–¥–∞—Ü–∏—è
- `send_error` ‚Äî –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏/—Å–µ—Ç–µ–≤–æ–π —Å–±–æ–π
- `not_whatsapp_user` ‚Äî –Ω–æ–º–µ—Ä –Ω–µ –≤ WA (–µ—Å–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç)

### **8.2 –ü–æ–≤—Ç–æ—Ä—ã:**

- –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry —á–µ—Ä–µ–∑ 2‚Äì3 —Å–µ–∫—É–Ω–¥—ã –ø–æ send_error
- –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –Ω–µ—É–¥–∞—á–Ω—ã–µ¬ª –≤ –∞–¥–º–∏–Ω–∫–µ ‚Äî —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π batch_id, –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ fail

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –î–û–°–¢–£–ü

### **9.1 –î–æ—Å—Ç—É–ø:**

- WA-Relay –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏/—á–µ—Ä–µ–∑ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `Authorization: Bearer <token>` –Ω–∞ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö, –∫—Ä–æ–º–µ `/health`

### **9.2 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**

- –õ–æ–≥–∏ –±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —è–≤–Ω–æ–º –≤–∏–¥–µ (–º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å pino

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ò –ü–†–ò–Å–ú–ö–ê

### **10.1 –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã:**

- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ (BY —Ñ–æ—Ä–º–∞—Ç—ã)
- –†–µ–Ω–¥–µ—Ä —à–∞–±–ª–æ–Ω–∞ (—Å –∏ –±–µ–∑ {name}, {orderId})

### **10.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ:**

- Dry-run —Å 3‚Äì5 –Ω–æ–º–µ—Ä–∞–º–∏ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏)
- –†–µ–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ 2 —Ç–µ—Å—Ç–æ–≤—ã—Ö –Ω–æ–º–µ—Ä–∞ (—Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏)
- –ü–∞–∫–µ—Ç –∏–∑ 30 –Ω–æ–º–µ—Ä–æ–≤: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã, –ø–∞—É–∑—ã, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- –ü–æ–≤—Ç–æ—Ä ¬´–Ω–µ—É–¥–∞—á–Ω—ã—Ö¬ª ‚Äî —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π batch, –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **10.3 –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (Acceptance):**

- –ö–Ω–æ–ø–∫–∞ ¬´–†–∞–∑–æ—Å–ª–∞—Ç—å¬ª –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –Ω—É–∂–Ω–æ–π —Ä–æ–ª—å—é
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ü–∞–∫–µ—Ç 50 –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –±–µ–∑ –ø–∞–¥–µ–Ω–∏–π, UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –õ–æ–≥–∏ –≤ –ë–î —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ—Ç–≤–µ—Ç—É WA-Relay; CSV —ç–∫—Å–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å WA-Relay —á–µ—Ä–µ–∑ QR –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Å—Å–∏—é –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞

---

## üîÑ –ü–ï–†–ï–ö–õ–Æ–ß–ê–ï–ú–ê–Ø –°–¢–†–ê–¢–ï–ì–ò–Ø –ù–ê –ë–£–î–£–©–ï–ï

### **11.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

–í –∫–æ–Ω—Ñ–∏–≥–µ –±—ç–∫–µ–Ω–¥–∞ –ø–æ–ª–µ `messaging_strategy: "wa_web" | "wa_official"`

### **11.2 –ê–¥–∞–ø—Ç–µ—Ä:**

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–∑–æ–≤–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º; —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω—è–µ—Ç—Å—è –∑–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π (–∞–¥–∞–ø—Ç–µ—Ä–æ–º)

---

## üöÄ –†–ê–ó–í–Å–†–¢–´–í–ê–ù–ò–ï

### **12.1 WA-Relay:**

1. –°–æ–±—Ä–∞—Ç—å Docker-–æ–±—Ä–∞–∑, —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å volume –¥–ª—è —Å–µ—Å—Å–∏–∏ (.wwebjs_auth)
2. –ü—Ä–æ–ø–∏—Å–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∑–∞–¥–∞—Ç—å AUTH_BEARER
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å, –æ—Ç–∫—Ä—ã—Ç—å –ª–æ–≥–∏ –∏ –æ–¥–∏–Ω —Ä–∞–∑ –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –≥–¥–µ –∞–∫—Ç–∏–≤–µ–Ω WhatsApp

### **12.2 –ë—ç–∫–µ–Ω–¥ —Å–∫–ª–∞–¥–∞:**

1. –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ message_logs, –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ orders/–∫–ª–∏–µ–Ω—Ç–∞—Ö)
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç (pickup_address, pickup_hours)
3. –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WA-Relay
4. –†–æ–ª–∏/–ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–∫–∏

---

## üìù –¢–ï–ö–°–¢ ¬´–ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ¬ª –î–õ–Ø –£–í–ï–î–û–ú–õ–ï–ù–ò–ô

```
{name}, –≤–∞—à –∑–∞–∫–∞–∑{orderId? ' ‚Ññ'+orderId : ''} –ø—Ä–∏–µ—Ö–∞–ª –∏ –≥–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ.
üìç –ü—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏: {pickup_address}
üïí –í—Ä–µ–º—è: {pickup_hours}
–ï—Å–ª–∏ –Ω–µ—É–¥–æ–±–Ω–æ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ, —Å–æ–≥–ª–∞—Å—É–µ–º –≤—Ä–µ–º—è.
```

---

## üìä –°–¢–ê–¢–£–°–´ –£–í–ï–î–û–ú–õ–ï–ù–ò–ô

### **–°—Ç–∞—Ç—É—Å—ã –≤ message_logs:**

- `sent` - –°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
- `fail` - –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –≤–æ–∑–º–æ–∂–Ω–∞)
- `skipped` - –ü—Ä–æ–ø—É—â–µ–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç —Å–æ–≥–ª–∞—Å–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- `invalid_phone` - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞

### **–°—Ç–∞—Ç—É—Å—ã arrival_status –≤ –∑–∞–∫–∞–∑–∞—Ö:**

- `pending` - –û–∂–∏–¥–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `notified` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
- `failed` - –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üîß –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫–ª–∞–¥–∞:**

```python
# app/constants/notifications.py
PICKUP_ADDRESS = "–ù–∞—à —Å–∫–ª–∞–¥, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 123"
PICKUP_HOURS = "–ü–Ω-–ü—Ç: 10:00-19:00, –°–±: 10:00-16:00"
DEFAULT_COUNTRY_CODE = "BY"
WHATSAPP_RELAY_URL = "http://localhost:3000"
WHATSAPP_RELAY_TOKEN = "your-secret-token"
```

### **–®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π:**

```python
MESSAGE_TEMPLATES = {
    "arrived_v1": {
        "template": "{name}, –≤–∞—à –∑–∞–∫–∞–∑{orderId? ' ‚Ññ'+orderId : ''} –ø—Ä–∏–µ—Ö–∞–ª –∏ –≥–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ.\nüìç –ü—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏: {pickup_address}\nüïí –í—Ä–µ–º—è: {pickup_hours}\n–ï—Å–ª–∏ –Ω–µ—É–¥–æ–±–Ω–æ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ, —Å–æ–≥–ª–∞—Å—É–µ–º –≤—Ä–µ–º—è.",
        "description": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø—Ä–∏–±—ã—Ç–∏–∏ —Ç–æ–≤–∞—Ä–∞"
    }
}
```

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 2024-01-XX  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
